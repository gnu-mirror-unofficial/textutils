<HTML>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created on December, 28  2000 by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HEAD>
<TITLE>GNU text utilities: tail invocation</TITLE>

<META NAME="description" CONTENT="GNU text utilities: tail invocation">
<META NAME="keywords" CONTENT="GNU text utilities: tail invocation">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY LANG="EN" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC14"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_13.html#SEC13"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_15.html#SEC15"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_15.html#SEC15"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_12.html#SEC12"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_17.html#SEC17"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_53.html#SEC53">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<HR SIZE=1>
<H2> 5.2 <CODE>tail</CODE>: Output the last part of files </H2>
<!--docid::SEC14::-->
<P>

<A NAME="IDX219"></A>
<A NAME="IDX220"></A>
</P><P>

<CODE>tail</CODE> prints the last part (10 lines by default) of each
<VAR>file</VAR>; it reads from standard input if no files are given or
when given a <VAR>file</VAR> of <SAMP>`-'</SAMP>.  Synopses:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>tail [<VAR>option</VAR>]<small>...</small> [<VAR>file</VAR>]<small>...</small>
tail -<VAR>number</VAR> [<VAR>option</VAR>]<small>...</small> [<VAR>file</VAR>]<small>...</small>
tail +<VAR>number</VAR> [<VAR>option</VAR>]<small>...</small> [<VAR>file</VAR>]<small>...</small>
</pre></td></tr></table></P><P>

If more than one <VAR>file</VAR> is specified, <CODE>tail</CODE> prints a
one-line header consisting of
<TABLE><tr><td>&nbsp;</td><td class=example><pre>==&#62; <VAR>file name</VAR> &#60;==
</pre></td></tr></table>before the output for each <VAR>file</VAR>.
</P><P>

<A NAME="IDX221"></A>
GNU <CODE>tail</CODE> can output any amount of data (some other versions of
<CODE>tail</CODE> cannot).  It also has no <SAMP>`-r'</SAMP> option (print in
reverse), since reversing a file is really a different job from printing
the end of a file; BSD <CODE>tail</CODE> (which is the one with <CODE>-r</CODE>) can
only reverse files that are at most as large as its buffer, which is
typically 32k.  A more reliable and versatile way to reverse files is
the GNU <CODE>tac</CODE> command.
</P><P>

<CODE>tail</CODE> accepts two option formats: the new one, in which numbers
are arguments to the options (<SAMP>`-n 1'</SAMP>), and the old one, in which
the number precedes any option letters (<SAMP>`-1'</SAMP> or <SAMP>`+1'</SAMP>).
</P><P>

If any option-argument is a number <VAR>n</VAR> starting with a <SAMP>`+'</SAMP>,
<CODE>tail</CODE> begins printing with the <VAR>n</VAR>th item from the start of
each file, instead of from the end.
</P><P>

The program accepts the following options.  Also see <A HREF="textutils_2.html#SEC2">2. Common options</A>.
</P><P>

<DL COMPACT>

<DT><SAMP>`-<VAR>count</VAR>'</SAMP>
<DD><DT><SAMP>`+<VAR>count</VAR>'</SAMP>
<DD><A NAME="IDX222"></A>
<A NAME="IDX223"></A>
This option is only recognized if it is specified first.  <VAR>count</VAR> is
a decimal number optionally followed by a size letter (<SAMP>`b'</SAMP>,
<SAMP>`k'</SAMP>, <SAMP>`m'</SAMP>) as in <CODE>-c</CODE>, or <SAMP>`l'</SAMP> to mean count by lines,
or other option letters (<SAMP>`cfqv'</SAMP>).
<P>

<DT><SAMP>`-c <VAR>bytes</VAR>'</SAMP>
<DD><DT><SAMP>`--bytes=<VAR>bytes</VAR>'</SAMP>
<DD><A NAME="IDX224"></A>
<A NAME="IDX225"></A>
Output the last <VAR>bytes</VAR> bytes, instead of final lines.  Appending
<SAMP>`b'</SAMP> multiplies <VAR>bytes</VAR> by 512, <SAMP>`k'</SAMP> by 1024, and <SAMP>`m'</SAMP>
by 1048576.
<P>

<DT><SAMP>`-f'</SAMP>
<DD><DT><SAMP>`--follow[=<VAR>how</VAR>]'</SAMP>
<DD><A NAME="IDX226"></A>
<A NAME="IDX227"></A>
<A NAME="IDX228"></A>
<A NAME="IDX229"></A>
<A NAME="IDX230"></A>
Loop forever trying to read more characters at the end of the file,
presumably because the file is growing.  This option is ignored when
reading from a pipe.
If more than one file is given, <CODE>tail</CODE> prints a header whenever it
gets output from a different file, to indicate which file that output is
from.
<P>

There are two ways to specify how you'd like to track files with this option,
but that difference is noticeable only when a followed file is removed or
renamed.
If you'd like to continue to track the end of a growing file even after
it has been unlinked, use <SAMP>`--follow=descriptor'</SAMP>.  This is the default
behavior, but it is not useful if you're tracking a log file that may be
rotated (removed or renamed, then reopened).  In that case, use
<SAMP>`--follow=name'</SAMP> to track the named file by reopening it periodically
to see if it has been removed and recreated by some other program.
</P><P>

No matter which method you use, if the tracked file is determined to have
shrunk, <CODE>tail</CODE> prints a message saying the file has been truncated
and resumes tracking the end of the file from the newly-determined endpoint.
</P><P>

When a file is removed, <CODE>tail</CODE>'s behavior depends on whether it is
following the name or the descriptor.  When following by name, tail can
detect that a file has been removed and gives a message to that effect,
and if <SAMP>`--retry'</SAMP> has been specified it will continue checking
periodically to see if the file reappears.
When following a descriptor, tail does not detect that the file has
been unlinked or renamed and issues no message;  even though the file
may no longer be accessible via its original name, it may still be
growing.
</P><P>

The option values <SAMP>`descriptor'</SAMP> and <SAMP>`name'</SAMP> may be specified only
with the long form of the option, not with <SAMP>`-f'</SAMP>.
</P><P>

<DT><SAMP>`--retry'</SAMP>
<DD><A NAME="IDX231"></A>
This option is meaningful only when following by name.
Without this option, when tail encounters a file that doesn't
exist or is otherwise inaccessible, it reports that fact and
never checks it again.
<P>

<DT><SAMP>`--sleep-interval=<VAR>n</VAR>'</SAMP>
<DD><A NAME="IDX232"></A>
Change the number of seconds to wait between iterations (the default is 1).
During one iteration, every specified file is checked to see if it has
changed size.
<P>

<DT><SAMP>`--pid=<VAR>pid</VAR>'</SAMP>
<DD><A NAME="IDX233"></A>
When following by name or by descriptor, you may specify the process ID,
<VAR>pid</VAR>, of the sole writer of all <VAR>file</VAR> arguments.  Then, shortly
after that process terminates, tail will also terminate.  This will
work properly only if the writer and the tailing process are running on
the same machine.  For example, to save the output of a build in a file
and to watch the file grow, if you invoke <CODE>make</CODE> and <CODE>tail</CODE>
like this then the tail process will stop when your build completes.
Without this option, you would have had to kill the <CODE>tail -f</CODE>
process yourself.
<TABLE><tr><td>&nbsp;</td><td class=example><pre>$ make &#62;&#38; makerr &#38; tail --pid=$! -f makerr
</pre></td></tr></table>If you specify a <VAR>pid</VAR> that is not in use or that does not correspond
to the process that is writing to the tailed files, then <CODE>tail</CODE>
may terminate long before any <VAR>file</VAR>s stop growing or it may not
terminate until long after the real writer has terminated.
<P>

<DT><SAMP>`--max-consecutive-size-changes=<VAR>n</VAR>'</SAMP>
<DD><A NAME="IDX234"></A>
This option is meaningful only when following by name.
Use it to control how long <CODE>tail</CODE> follows the descriptor of a file
that continues growing at a rapid pace even after it is deleted or renamed.
After detecting <VAR>n</VAR> consecutive size changes for a file,
<CODE>open</CODE>/<CODE>fstat</CODE> the file to determine if that file name is
still associated with the same device/inode-number pair as before.
See the output of <CODE>tail --help</CODE> for the default value.
<P>

<DT><SAMP>`--max-unchanged-stats=<VAR>n</VAR>'</SAMP>
<DD><A NAME="IDX235"></A>
When tailing a file by name, if there have been this many consecutive
iterations for which the size has remained the same, then
<CODE>open</CODE>/<CODE>fstat</CODE> the file to determine if that file name is
still associated with the same device/inode-number pair as before.
When following a log file that is rotated this is approximately the
number of seconds between when tail prints the last pre-rotation lines
and when it prints the lines that have accumulated in the new log file.
See the output of <CODE>tail --help</CODE> for the default value.
This option is meaningful only when following by name.
<P>

<DT><SAMP>`-n <VAR>n</VAR>'</SAMP>
<DD><DT><SAMP>`--lines=<VAR>n</VAR>'</SAMP>
<DD><A NAME="IDX236"></A>
<A NAME="IDX237"></A>
Output the last <VAR>n</VAR> lines.
<P>

<DT><SAMP>`-q'</SAMP>
<DD><DT><SAMP>`-quiet'</SAMP>
<DD><DT><SAMP>`--silent'</SAMP>
<DD><A NAME="IDX238"></A>
<A NAME="IDX239"></A>
<A NAME="IDX240"></A>
Never print file name headers.
<P>

<DT><SAMP>`-v'</SAMP>
<DD><DT><SAMP>`--verbose'</SAMP>
<DD><A NAME="IDX241"></A>
<A NAME="IDX242"></A>
Always print file name headers.
<P>

</DL>
<P>

<A NAME="split invocation"></A>
<HR SIZE=1>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_13.html#SEC13"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_15.html#SEC15"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_15.html#SEC15"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_12.html#SEC12"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_17.html#SEC17"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_53.html#SEC53">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated
by <I>Paul Visscher</I> on <I>December, 28  2000</I>
using <A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
