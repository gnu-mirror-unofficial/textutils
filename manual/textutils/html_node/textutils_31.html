<HTML>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created on December, 28  2000 by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HEAD>
<TITLE>GNU text utilities: Output formatting in ptx</TITLE>

<META NAME="description" CONTENT="GNU text utilities: Output formatting in ptx">
<META NAME="keywords" CONTENT="GNU text utilities: Output formatting in ptx">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY LANG="EN" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC31"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_30.html#SEC30"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_32.html#SEC32"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_32.html#SEC32"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_27.html#SEC27"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_33.html#SEC33"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_53.html#SEC53">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<HR SIZE=1>
<H3> 7.5.4 Output formatting </H3>
<!--docid::SEC31::-->
<P>

Output format is mainly controlled by <SAMP>`-O'</SAMP> and <SAMP>`-T'</SAMP> options,
described in the table below.  When neither <SAMP>`-O'</SAMP> nor <SAMP>`-T'</SAMP> is
selected, and if GNU extensions are enabled, the program choose an
output format suited for a dumb terminal.  Each keyword occurrence is
output to the center of one line, surrounded by its left and right
contexts.  Each field is properly justified, so the concordance output
could readily be observed.  As a special feature, if automatic
references are selected by option <SAMP>`-A'</SAMP> and are output before the
left context, that is, if option <SAMP>`-R'</SAMP> is <EM>not</EM> selected, then
a colon is added after the reference; this nicely interfaces with GNU
Emacs <CODE>next-error</CODE> processing.  In this default output format, each
white space character, like newline and tab, is merely changed to
exactly one space, with no special attempt to compress consecutive
spaces.  This might change in the future.  Except for those white space
characters, every other character of the underlying set of 256
characters is transmitted verbatim.
</P><P>

Output format is further controlled by the following options.
</P><P>

<DL COMPACT>

<DT><SAMP>`-g <VAR>number</VAR>'</SAMP>
<DD><DT><SAMP>`--gap-size=<VAR>number</VAR>'</SAMP>
<DD><P>

Select the size of the minimum white gap between the fields on the output
line.
</P><P>

<DT><SAMP>`-w <VAR>number</VAR>'</SAMP>
<DD><DT><SAMP>`--width=<VAR>number</VAR>'</SAMP>
<DD><P>

Select the output maximum width of each final line.  If references are
used, they are included or excluded from the output maximum width
depending on the value of option <SAMP>`-R'</SAMP>.  If this option is not
selected, that is, when references are output before the left context,
the output maximum width takes into account the maximum length of all
references.  If this options is selected, that is, when references are
output after the right context, the output maximum width does not take
into account the space taken by references, nor the gap that precedes
them.
</P><P>

<DT><SAMP>`-A'</SAMP>
<DD><DT><SAMP>`--auto-reference'</SAMP>
<DD><P>

Select automatic references.  Each input line will have an automatic
reference made up of the file name and the line ordinal, with a single
colon between them.  However, the file name will be empty when standard
input is being read.  If both <SAMP>`-A'</SAMP> and <SAMP>`-r'</SAMP> are selected, then
the input reference is still read and skipped, but the automatic
reference is used at output time, overriding the input reference.
</P><P>

<DT><SAMP>`-R'</SAMP>
<DD><DT><SAMP>`--right-side-refs'</SAMP>
<DD><P>

In default output format, when option <SAMP>`-R'</SAMP> is not used, any
reference produced by the effect of options <SAMP>`-r'</SAMP> or <SAMP>`-A'</SAMP> are
given to the far right of output lines, after the right context.  In
default output format, when option <SAMP>`-R'</SAMP> is specified, references
are rather given to the beginning of each output line, before the left
context.  For any other output format, option <SAMP>`-R'</SAMP> is almost
ignored, except for the fact that the width of references is <EM>not</EM>
taken into account in total output width given by <SAMP>`-w'</SAMP> whenever
<SAMP>`-R'</SAMP> is selected.
</P><P>

This option is automatically selected whenever GNU extensions are
disabled.
</P><P>

<DT><SAMP>`-F <VAR>string</VAR>'</SAMP>
<DD><DT><SAMP>`--flac-truncation=<VAR>string</VAR>'</SAMP>
<DD><P>

This option will request that any truncation in the output be reported
using the string <VAR>string</VAR>.  Most output fields theoretically extend
towards the beginning or the end of the current line, or current
sentence, as selected with option <SAMP>`-S'</SAMP>.  But there is a maximum
allowed output line width, changeable through option <SAMP>`-w'</SAMP>, which is
further divided into space for various output fields.  When a field has
to be truncated because cannot extend until the beginning or the end of
the current line to fit in the, then a truncation occurs.  By default,
the string used is a single slash, as in <SAMP>`-F /'</SAMP>.
</P><P>

<VAR>string</VAR> may have more than one character, as in <SAMP>`-F ...'</SAMP>.
Also, in the particular case <VAR>string</VAR> is empty (<SAMP>`-F ""'</SAMP>),
truncation flagging is disabled, and no truncation marks are appended in
this case.
</P><P>

As a matter of convenience to the user, many usual backslashed escape
sequences, as found in the C language, are recognized and converted to
the corresponding characters by <CODE>ptx</CODE> itself.
</P><P>

<DT><SAMP>`-M <VAR>string</VAR>'</SAMP>
<DD><DT><SAMP>`--macro-name=<VAR>string</VAR>'</SAMP>
<DD><P>

Select another <VAR>string</VAR> to be used instead of <SAMP>`xx'</SAMP>, while
generating output suitable for <CODE>nroff</CODE>, <CODE>troff</CODE> or TeX.
</P><P>

<DT><SAMP>`-O'</SAMP>
<DD><DT><SAMP>`--format=roff'</SAMP>
<DD><P>

Choose an output format suitable for <CODE>nroff</CODE> or <CODE>troff</CODE>
processing.  Each output line will look like:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>.xx "<VAR>tail</VAR>" "<VAR>before</VAR>" "<VAR>keyword_and_after</VAR>" "<VAR>head</VAR>" "<VAR>ref</VAR>"
</pre></td></tr></table></P><P>

so it will be possible to write an <SAMP>`.xx'</SAMP> roff macro to take care of
the output typesetting.  This is the default output format when GNU
extensions are disabled.  Option <SAMP>`-M'</SAMP> might be used to change
<SAMP>`xx'</SAMP> to another macro name.
</P><P>

In this output format, each non-graphical character, like newline and
tab, is merely changed to exactly one space, with no special attempt to
compress consecutive spaces.  Each quote character: <KBD>"</KBD> is doubled
so it will be correctly processed by <CODE>nroff</CODE> or <CODE>troff</CODE>.
</P><P>

<DT><SAMP>`-T'</SAMP>
<DD><DT><SAMP>`--format=tex'</SAMP>
<DD><P>

Choose an output format suitable for TeX processing.  Each output
line will look like:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>\xx {<VAR>tail</VAR>}{<VAR>before</VAR>}{<VAR>keyword</VAR>}{<VAR>after</VAR>}{<VAR>head</VAR>}{<VAR>ref</VAR>}
</pre></td></tr></table></P><P>

so it will be possible to write a <CODE>\xx</CODE> definition to take care of
the output typesetting.  Note that when references are not being
produced, that is, neither option <SAMP>`-A'</SAMP> nor option <SAMP>`-r'</SAMP> is
selected, the last parameter of each <CODE>\xx</CODE> call is inhibited.
Option <SAMP>`-M'</SAMP> might be used to change <SAMP>`xx'</SAMP> to another macro
name.
</P><P>

In this output format, some special characters, like <KBD>$</KBD>, <KBD>%</KBD>,
<KBD>&#38;</KBD>, <KBD>#</KBD> and <KBD>_</KBD> are automatically protected with a
backslash.  Curly brackets <KBD>{</KBD>, <KBD>}</KBD> are also protected with a
backslash, but also enclosed in a pair of dollar signs to force
mathematical mode.  The backslash itself produces the sequence
<CODE>\backslash{}</CODE>.  Circumflex and tilde diacritics produce the
sequence <CODE>^\{ }</CODE> and <CODE>~\{ }</CODE> respectively.  Other
diacriticized characters of the underlying character set produce an
appropriate TeX sequence as far as possible.  The other non-graphical
characters, like newline and tab, and all others characters which are
not part of ASCII, are merely changed to exactly one space, with no
special attempt to compress consecutive spaces.  Let me know how to
improve this special character processing for TeX.
</P><P>

</DL>
<P>

<A NAME="Compatibility in ptx"></A>
<HR SIZE=1>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_30.html#SEC30"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_32.html#SEC32"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_32.html#SEC32"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_27.html#SEC27"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_33.html#SEC33"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_53.html#SEC53">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated
by <I>Paul Visscher</I> on <I>December, 28  2000</I>
using <A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
