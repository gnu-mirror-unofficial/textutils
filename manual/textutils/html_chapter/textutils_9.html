<HTML>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created on December, 28  2000 by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HEAD>
<TITLE>GNU text utilities: Operating on characters</TITLE>

<META NAME="description" CONTENT="GNU text utilities: Operating on characters">
<META NAME="keywords" CONTENT="GNU text utilities: Operating on characters">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY LANG="EN" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC37"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_8.html#SEC36"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC38"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_10.html#SEC45"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_11.html#SEC53">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H1> 9. Operating on characters </H1>
<!--docid::SEC37::-->
<P>

<A NAME="IDX420"></A>
</P><P>

This commands operate on individual characters.
</P><P>

<BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="textutils_9.html#SEC38">9.1 <CODE>tr</CODE>: Translate, squeeze, and/or delete characters</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Translate, squeeze, and/or delete characters.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="textutils_9.html#SEC43">9.2 <CODE>expand</CODE>: Convert tabs to spaces</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Convert tabs to spaces.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="textutils_9.html#SEC44">9.3 <CODE>unexpand</CODE>: Convert spaces to tabs</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Convert spaces to tabs.</TD></TR>
</TABLE></BLOCKQUOTE>
<P>

<A NAME="tr invocation"></A>
<HR SIZE="6">
<A NAME="SEC38"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC37"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC39"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC37"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC43"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_11.html#SEC53">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> 9.1 <CODE>tr</CODE>: Translate, squeeze, and/or delete characters </H2>
<!--docid::SEC38::-->
<P>

<A NAME="IDX421"></A>
</P><P>

Synopsis:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>tr [<VAR>option</VAR>]<small>...</small> <VAR>set1</VAR> [<VAR>set2</VAR>]
</pre></td></tr></table></P><P>

<CODE>tr</CODE> copies standard input to standard output, performing
one of the following operations:
</P><P>

<UL>
<LI>
translate, and optionally squeeze repeated characters in the result,
<LI>
squeeze repeated characters,
<LI>
delete characters,
<LI>
delete characters, then squeeze repeated characters from the result.
</UL>
<P>

The <VAR>set1</VAR> and (if given) <VAR>set2</VAR> arguments define ordered
sets of characters, referred to below as <VAR>set1</VAR> and <VAR>set2</VAR>.  These
sets are the characters of the input that <CODE>tr</CODE> operates on.
The <SAMP>`--complement'</SAMP> (<SAMP>`-c'</SAMP>) option replaces <VAR>set1</VAR> with its
complement (all of the characters that are not in <VAR>set1</VAR>).
</P><P>

<BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="textutils_9.html#SEC39">9.1.1 Specifying sets of characters</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP"></TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="textutils_9.html#SEC40">9.1.2 Translating</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Changing one characters to another.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="textutils_9.html#SEC41">9.1.3 Squeezing repeats and deleting</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP"></TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="textutils_9.html#SEC42">9.1.4 Warning messages</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP"></TD></TR>
</TABLE></BLOCKQUOTE>
<P>

<A NAME="Character sets"></A>
<HR SIZE="6">
<A NAME="SEC39"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC38"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC40"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC38"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC43"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_11.html#SEC53">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> 9.1.1 Specifying sets of characters </H3>
<!--docid::SEC39::-->
<P>

<A NAME="IDX422"></A>
</P><P>

The format of the <VAR>set1</VAR> and <VAR>set2</VAR> arguments resembles
the format of regular expressions; however, they are not regular
expressions, only lists of characters.  Most characters simply
represent themselves in these strings, but the strings can contain
the shorthands listed below, for convenience.  Some of them can be
used only in <VAR>set1</VAR> or <VAR>set2</VAR>, as noted below.
</P><P>

<DL COMPACT>

<DT>Backslash escapes
<DD><A NAME="IDX423"></A>
<P>

A backslash followed by a character not listed below causes an error
message.
</P><P>

<DL COMPACT>
<DT><SAMP>`\a'</SAMP>
<DD>Control-G.
<DT><SAMP>`\b'</SAMP>
<DD>Control-H.
<DT><SAMP>`\f'</SAMP>
<DD>Control-L.
<DT><SAMP>`\n'</SAMP>
<DD>Control-J.
<DT><SAMP>`\r'</SAMP>
<DD>Control-M.
<DT><SAMP>`\t'</SAMP>
<DD>Control-I.
<DT><SAMP>`\v'</SAMP>
<DD>Control-K.
<DT><SAMP>`\<VAR>ooo</VAR>'</SAMP>
<DD>The character with the value given by <VAR>ooo</VAR>, which is 1 to 3
octal digits,
<DT><SAMP>`\\'</SAMP>
<DD>A backslash.
</DL>
<P>

<DT>Ranges
<DD><A NAME="IDX424"></A>
<P>

The notation <SAMP>`<VAR>m</VAR>-<VAR>n</VAR>'</SAMP> expands to all of the characters
from <VAR>m</VAR> through <VAR>n</VAR>, in ascending order.  <VAR>m</VAR> should
collate before <VAR>n</VAR>; if it doesn't, an error results.  As an example,
<SAMP>`0-9'</SAMP> is the same as <SAMP>`0123456789'</SAMP>.  Although GNU <CODE>tr</CODE>
does not support the System V syntax that uses square brackets to
enclose ranges, translations specified in that format will still work as
long as the brackets in <VAR>string1</VAR> correspond to identical brackets
in <VAR>string2</VAR>.
</P><P>

<DT>Repeated characters
<DD><A NAME="IDX425"></A>
<P>

The notation <SAMP>`[<VAR>c</VAR>*<VAR>n</VAR>]'</SAMP> in <VAR>set2</VAR> expands to <VAR>n</VAR>
copies of character <VAR>c</VAR>.  Thus, <SAMP>`[y*6]'</SAMP> is the same as
<SAMP>`yyyyyy'</SAMP>.  The notation <SAMP>`[<VAR>c</VAR>*]'</SAMP> in <VAR>string2</VAR> expands
to as many copies of <VAR>c</VAR> as are needed to make <VAR>set2</VAR> as long as
<VAR>set1</VAR>.  If <VAR>n</VAR> begins with <SAMP>`0'</SAMP>, it is interpreted in
octal, otherwise in decimal.
</P><P>

<DT>Character classes
<DD><A NAME="IDX426"></A>
<P>

The notation <SAMP>`[:<VAR>class</VAR>:]'</SAMP> expands to all of the characters in
the (predefined) class <VAR>class</VAR>.  The characters expand in no
particular order, except for the <CODE>upper</CODE> and <CODE>lower</CODE> classes,
which expand in ascending order.  When the <SAMP>`--delete'</SAMP> (<SAMP>`-d'</SAMP>)
and <SAMP>`--squeeze-repeats'</SAMP> (<SAMP>`-s'</SAMP>) options are both given, any
character class can be used in <VAR>set2</VAR>.  Otherwise, only the
character classes <CODE>lower</CODE> and <CODE>upper</CODE> are accepted in
<VAR>set2</VAR>, and then only if the corresponding character class
(<CODE>upper</CODE> and <CODE>lower</CODE>, respectively) is specified in the same
relative position in <VAR>set1</VAR>.  Doing this specifies case conversion.
The class names are given below; an error results when an invalid class
name is given.
</P><P>

<DL COMPACT>
<DT><CODE>alnum</CODE>
<DD><A NAME="IDX427"></A>
Letters and digits.
<DT><CODE>alpha</CODE>
<DD><A NAME="IDX428"></A>
Letters.
<DT><CODE>blank</CODE>
<DD><A NAME="IDX429"></A>
Horizontal whitespace.
<DT><CODE>cntrl</CODE>
<DD><A NAME="IDX430"></A>
Control characters.
<DT><CODE>digit</CODE>
<DD><A NAME="IDX431"></A>
Digits.
<DT><CODE>graph</CODE>
<DD><A NAME="IDX432"></A>
Printable characters, not including space.
<DT><CODE>lower</CODE>
<DD><A NAME="IDX433"></A>
Lowercase letters.
<DT><CODE>print</CODE>
<DD><A NAME="IDX434"></A>
Printable characters, including space.
<DT><CODE>punct</CODE>
<DD><A NAME="IDX435"></A>
Punctuation characters.
<DT><CODE>space</CODE>
<DD><A NAME="IDX436"></A>
Horizontal or vertical whitespace.
<DT><CODE>upper</CODE>
<DD><A NAME="IDX437"></A>
Uppercase letters.
<DT><CODE>xdigit</CODE>
<DD><A NAME="IDX438"></A>
Hexadecimal digits.
</DL>
<P>

<DT>Equivalence classes
<DD><A NAME="IDX439"></A>
<P>

The syntax <SAMP>`[=<VAR>c</VAR>=]'</SAMP> expands to all of the characters that are
equivalent to <VAR>c</VAR>, in no particular order.  Equivalence classes are
a relatively recent invention intended to support non-English alphabets.
But there seems to be no standard way to define them or determine their
contents.  Therefore, they are not fully implemented in GNU <CODE>tr</CODE>;
each character's equivalence class consists only of that character,
which is of no particular use.
</P><P>

</DL>
<P>

<A NAME="Translating"></A>
<HR SIZE="6">
<A NAME="SEC40"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC39"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC41"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC41"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC38"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC43"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_11.html#SEC53">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> 9.1.2 Translating </H3>
<!--docid::SEC40::-->
<P>

<A NAME="IDX440"></A>
</P><P>

<CODE>tr</CODE> performs translation when <VAR>set1</VAR> and <VAR>set2</VAR> are
both given and the <SAMP>`--delete'</SAMP> (<SAMP>`-d'</SAMP>) option is not given.
<CODE>tr</CODE> translates each character of its input that is in <VAR>set1</VAR>
to the corresponding character in <VAR>set2</VAR>.  Characters not in
<VAR>set1</VAR> are passed through unchanged.  When a character appears more
than once in <VAR>set1</VAR> and the corresponding characters in <VAR>set2</VAR>
are not all the same, only the final one is used.  For example, these
two commands are equivalent:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>tr aaa xyz
tr a z
</pre></td></tr></table></P><P>

A common use of <CODE>tr</CODE> is to convert lowercase characters to
uppercase.  This can be done in many ways.  Here are three of them:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>tr abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWXYZ
tr a-z A-Z
tr '[:lower:]' '[:upper:]'
</pre></td></tr></table></P><P>

When <CODE>tr</CODE> is performing translation, <VAR>set1</VAR> and <VAR>set2</VAR>
typically have the same length.  If <VAR>set1</VAR> is shorter than
<VAR>set2</VAR>, the extra characters at the end of <VAR>set2</VAR> are ignored.
</P><P>

On the other hand, making <VAR>set1</VAR> longer than <VAR>set2</VAR> is not
portable; POSIX.2 says that the result is undefined.  In this situation,
BSD <CODE>tr</CODE> pads <VAR>set2</VAR> to the length of <VAR>set1</VAR> by repeating
the last character of <VAR>set2</VAR> as many times as necessary.  System V
<CODE>tr</CODE> truncates <VAR>set1</VAR> to the length of <VAR>set2</VAR>.
</P><P>

By default, GNU <CODE>tr</CODE> handles this case like BSD <CODE>tr</CODE>.  When
the <SAMP>`--truncate-set1'</SAMP> (<SAMP>`-t'</SAMP>) option is given, GNU <CODE>tr</CODE>
handles this case like the System V <CODE>tr</CODE> instead.  This option is
ignored for operations other than translation.
</P><P>

Acting like System V <CODE>tr</CODE> in this case breaks the relatively common
BSD idiom:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>tr -cs A-Za-z0-9 '\012'
</pre></td></tr></table></P><P>

because it converts only zero bytes (the first element in the
complement of <VAR>set1</VAR>), rather than all non-alphanumerics, to
newlines.
</P><P>

<A NAME="Squeezing"></A>
<HR SIZE="6">
<A NAME="SEC41"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC40"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC42"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC42"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC38"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC43"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_11.html#SEC53">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> 9.1.3 Squeezing repeats and deleting </H3>
<!--docid::SEC41::-->
<P>

<A NAME="IDX441"></A>
<A NAME="IDX442"></A>
</P><P>

When given just the <SAMP>`--delete'</SAMP> (<SAMP>`-d'</SAMP>) option, <CODE>tr</CODE>
removes any input characters that are in <VAR>set1</VAR>.
</P><P>

When given just the <SAMP>`--squeeze-repeats'</SAMP> (<SAMP>`-s'</SAMP>) option,
<CODE>tr</CODE> replaces each input sequence of a repeated character that
is in <VAR>set1</VAR> with a single occurrence of that character.
</P><P>

When given both <SAMP>`--delete'</SAMP> and <SAMP>`--squeeze-repeats'</SAMP>, <CODE>tr</CODE>
first performs any deletions using <VAR>set1</VAR>, then squeezes repeats
from any remaining characters using <VAR>set2</VAR>.
</P><P>

The <SAMP>`--squeeze-repeats'</SAMP> option may also be used when translating,
in which case <CODE>tr</CODE> first performs translation, then squeezes
repeats from any remaining characters using <VAR>set2</VAR>.
</P><P>

Here are some examples to illustrate various combinations of options:
</P><P>

<UL>

<LI>
Remove all zero bytes:
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>tr -d '\000'
</pre></td></tr></table></P><P>

<LI>
Put all words on lines by themselves.  This converts all
non-alphanumeric characters to newlines, then squeezes each string
of repeated newlines into a single newline:
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>tr -cs 'a-zA-Z0-9' '[\n*]'
</pre></td></tr></table></P><P>

<LI>
Convert each sequence of repeated newlines to a single newline:
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>tr -s '\n'
</pre></td></tr></table></P><P>

<LI>
Find doubled occurrences of words in a document.
For example, people often write "the the" with the duplicated words
separated by a newline.  The bourne shell script below works first
by converting each sequence of punctuation and blank characters to a
single newline.  That puts each "word" on a line by itself.
Next it maps all uppercase characters to lower case, and finally it
runs <CODE>uniq</CODE> with the <SAMP>`-d'</SAMP> option to print out only the words
that were adjacent duplicates.
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>#!/bin/sh
cat "$@" \
  | tr -s '[:punct:][:blank:]' '\n' \
  | tr '[:upper:]' '[:lower:]' \
  | uniq -d
</pre></td></tr></table></P><P>

</UL>
<P>

<A NAME="Warnings in tr"></A>
<HR SIZE="6">
<A NAME="SEC42"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC41"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC43"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC38"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC43"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_11.html#SEC53">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> 9.1.4 Warning messages </H3>
<!--docid::SEC42::-->
<P>

<A NAME="IDX443"></A>
Setting the environment variable <CODE>POSIXLY_CORRECT</CODE> turns off the
following warning and error messages, for strict compliance with
POSIX.2.  Otherwise, the following diagnostics are issued:
</P><P>

<OL>

<LI>
When the <SAMP>`--delete'</SAMP> option is given but <SAMP>`--squeeze-repeats'</SAMP>
is not, and <VAR>set2</VAR> is given, GNU <CODE>tr</CODE> by default prints
a usage message and exits, because <VAR>set2</VAR> would not be used.
The POSIX specification says that <VAR>set2</VAR> must be ignored in
this case. Silently ignoring arguments is a bad idea.
<P>

<LI>
When an ambiguous octal escape is given.  For example, <SAMP>`\400'</SAMP>
is actually <SAMP>`\40'</SAMP> followed by the digit <SAMP>`0'</SAMP>, because the
value 400 octal does not fit into a single byte.
<P>

</OL>
<P>

GNU <CODE>tr</CODE> does not provide complete BSD or System V compatibility.
For example, it is impossible to disable interpretation of the POSIX
constructs <SAMP>`[:alpha:]'</SAMP>, <SAMP>`[=c=]'</SAMP>, and <SAMP>`[c*10]'</SAMP>.  Also, GNU
<CODE>tr</CODE> does not delete zero bytes automatically, unlike traditional
Unix versions, which provide no way to preserve zero bytes.
</P><P>

<A NAME="expand invocation"></A>
<HR SIZE="6">
<A NAME="SEC43"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC42"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC44"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC44"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC37"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_10.html#SEC45"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_11.html#SEC53">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> 9.2 <CODE>expand</CODE>: Convert tabs to spaces </H2>
<!--docid::SEC43::-->
<P>

<A NAME="IDX444"></A>
<A NAME="IDX445"></A>
<A NAME="IDX446"></A>
</P><P>

<CODE>expand</CODE> writes the contents of each given <VAR>file</VAR>, or standard
input if none are given or for a <VAR>file</VAR> of <SAMP>`-'</SAMP>, to standard
output, with tab characters converted to the appropriate number of
spaces.  Synopsis:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>expand [<VAR>option</VAR>]<small>...</small> [<VAR>file</VAR>]<small>...</small>
</pre></td></tr></table></P><P>

By default, <CODE>expand</CODE> converts all tabs to spaces.  It preserves
backspace characters in the output; they decrement the column count for
tab calculations.  The default action is equivalent to <SAMP>`-8'</SAMP> (set
tabs every 8 columns).
</P><P>

The program accepts the following options.  Also see <A HREF="textutils_2.html#SEC2">2. Common options</A>.
</P><P>

<DL COMPACT>

<DT><SAMP>`-<VAR>tab1</VAR>[,<VAR>tab2</VAR>]<small>...</small>'</SAMP>
<DD><DT><SAMP>`-t <VAR>tab1</VAR>[,<VAR>tab2</VAR>]<small>...</small>'</SAMP>
<DD><DT><SAMP>`--tabs=<VAR>tab1</VAR>[,<VAR>tab2</VAR>]<small>...</small>'</SAMP>
<DD><A NAME="IDX447"></A>
<A NAME="IDX448"></A>
<A NAME="IDX449"></A>
<A NAME="IDX450"></A>
If only one tab stop is given, set the tabs <VAR>tab1</VAR> spaces apart
(default is 8).  Otherwise, set the tabs at columns <VAR>tab1</VAR>,
<VAR>tab2</VAR>, <small>...</small> (numbered from 0), and replace any tabs beyond the
last tabstop given with single spaces.  If the tabstops are specified
with the <SAMP>`-t'</SAMP> or <SAMP>`--tabs'</SAMP> option, they can be separated by
blanks as well as by commas.
<P>

<DT><SAMP>`-i'</SAMP>
<DD><DT><SAMP>`--initial'</SAMP>
<DD><A NAME="IDX451"></A>
<A NAME="IDX452"></A>
<A NAME="IDX453"></A>
Only convert initial tabs (those that precede all non-space or non-tab
characters) on each line to spaces.
<P>

</DL>
<P>

<A NAME="unexpand invocation"></A>
<HR SIZE="6">
<A NAME="SEC44"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC43"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_10.html#SEC45"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_9.html#SEC37"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_10.html#SEC45"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_11.html#SEC53">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> 9.3 <CODE>unexpand</CODE>: Convert spaces to tabs </H2>
<!--docid::SEC44::-->
<P>

<A NAME="IDX454"></A>
</P><P>

<CODE>unexpand</CODE> writes the contents of each given <VAR>file</VAR>, or
standard input if none are given or for a <VAR>file</VAR> of <SAMP>`-'</SAMP>, to
standard output, with strings of two or more space or tab characters
converted to as many tabs as possible followed by as many spaces as are
needed.  Synopsis:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>unexpand [<VAR>option</VAR>]<small>...</small> [<VAR>file</VAR>]<small>...</small>
</pre></td></tr></table></P><P>

By default, <CODE>unexpand</CODE> converts only initial spaces and tabs (those
that precede all non space or tab characters) on each line.  It
preserves backspace characters in the output; they decrement the column
count for tab calculations.  By default, tabs are set at every 8th
column.
</P><P>

The program accepts the following options.  Also see <A HREF="textutils_2.html#SEC2">2. Common options</A>.
</P><P>

<DL COMPACT>

<DT><SAMP>`-<VAR>tab1</VAR>[,<VAR>tab2</VAR>]<small>...</small>'</SAMP>
<DD><DT><SAMP>`-t <VAR>tab1</VAR>[,<VAR>tab2</VAR>]<small>...</small>'</SAMP>
<DD><DT><SAMP>`--tabs=<VAR>tab1</VAR>[,<VAR>tab2</VAR>]<small>...</small>'</SAMP>
<DD><A NAME="IDX455"></A>
<A NAME="IDX456"></A>
<A NAME="IDX457"></A>
If only one tab stop is given, set the tabs <VAR>tab1</VAR> spaces apart
instead of the default 8.  Otherwise, set the tabs at columns
<VAR>tab1</VAR>, <VAR>tab2</VAR>, <small>...</small> (numbered from 0), and leave spaces and
tabs beyond the tabstops given unchanged.  If the tabstops are specified
with the <SAMP>`-t'</SAMP> or <SAMP>`--tabs'</SAMP> option, they can be separated by
blanks as well as by commas.  This option implies the <SAMP>`-a'</SAMP> option.
<P>

<DT><SAMP>`-a'</SAMP>
<DD><DT><SAMP>`--all'</SAMP>
<DD><A NAME="IDX458"></A>
<A NAME="IDX459"></A>
Convert all strings of two or more spaces or tabs, not just initial
ones, to tabs.
<P>

</DL>
<P>

<A NAME="Opening the software toolbox"></A>
<HR SIZE="6">
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_10.html#SEC45"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_11.html#SEC53">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="textutils_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated
by <I>Paul Visscher</I> on <I>December, 28  2000</I>
using <A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
